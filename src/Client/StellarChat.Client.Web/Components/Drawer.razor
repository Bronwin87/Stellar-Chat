<MudDrawer @bind-Open="IsDrawerOpen" Elevation="1" ClipMode="DrawerClipMode.Never" Variant="DrawerVariant.Persistent" Anchor="Anchor.Left" Width="20%">
    <MudContainer Class="d-flex pa-0 overflow-x-hidden" Style="height: 100%; width: 100%;">
        <div class="d-flex flex-column" style="width: 100%;">
            <div class="d-flex flex-1 w-100 overflow-hidden">

                @*------------ left column ------------ *@
                <div id="drawer-left-column" class="d-flex flex-column align-items-center pa-1">
                    <MudAvatar Color="Color.Secondary" Class="mt-3 mx-auto">
                        <MudImage Src="https://avatars.githubusercontent.com/u/49451143?v=4" Alt="An image of the best dog ever!"></MudImage>
                    </MudAvatar>
                    <MudIconButton Size="Size.Large" Icon="@Icons.Material.Filled.ChatBubble" Class="mt-5" />
                    <MudIconButton Size="Size.Large" Icon="@Icons.Material.Filled.Settings" Class="absolute mb-20" style="bottom: 10px" />
                </div>
                <MudDivider Vertical="true" />

                @*------------ right column ------------ *@
                <div id="drawer-right-column" class="p-3 flex-grow-1 overflow-y-auto w-100 h-100">
                    <div class="d-flex flex-column h-100">
                        <MudText Typo="Typo.h5" Class="mx-auto mt-3">Stellar Chat</MudText>
                        <div class="flex-grow-1 overflow-y-auto w-100 h-100 mt-2">
                            <MudTextField Class="pa-4" @bind-Value="@SearchText" Label="Find a conversation" Variant="Variant.Outlined" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.Search" />
                            <MudDivider />
                            <MudList Clickable="true">
                                @foreach (var chatSessions in ChatSessions)
                                {
                                    <ChatHistoryItem ChatSessionIteam="@chatSessions" />
                                }
                            </MudList>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </MudContainer>
</MudDrawer>


@code
{
    [Parameter]
    public bool IsDrawerOpen { get; set; }

    public string SearchText { get; set; } = string.Empty;

    public List<ChatSessionResponse> ChatSessions { get; set; } = new();
}
